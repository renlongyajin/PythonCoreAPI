# 下一步开发计划

## 目标：将现有 Auth 骨架深化为可扩展通用后台框架

1. **配置与基础设施强化**
   - 引入多环境配置（dev/staging/prod）与 Secrets 管理策略，测试覆盖 Settings fallback、热更新、配置校验。
   - 对日志、异常、trace_id 进行统一中间件封装，产出结构化日志与 `/metrics` 探针测试用例。

2. **权限与安全体系完善**
   - 扩展 RBAC：设计 `require_roles/permissions` 依赖，测试普通用户访问管理接口的拒绝路径。
   - 加入 Token 黑名单、审计日志、密码策略与登录失败限流，提供对应的仓储与 API 测试。

3. **API 平台标准化**
   - 实现统一的错误响应格式、Exception Handler、中英文化文案；完善 Swagger/OpenAPI 描述与版本策略。
   - 补充 CORS、安全头、请求限流等中间件，并通过集成测试验证。

4. **数据层与异步能力**
   - 为 Base 引入软删、版本号、审计字段 mixin，并统一 repository 抽象以减少重复 Session 管理。
   - 接入 Redis/Celery，提供任务提交流程与 retry 逻辑；编写单元 + 集成测试确保幂等。

5. **运维与 CI/CD**
   - 建立 Make/Invoke 脚本：`lint`, `test`, `format`, `alembic upgrade`, `seed` 等一键入口。
   - 配置 CI 流水线执行 lint+pytest+coverage，补充 README/部署手册，确保环境部署文档化。
